@import 'mixins/font-face';

@tailwind base;
@tailwind components;
@tailwind utilities;

// Mozilla Sans
@include font-face('Mozilla Sans', 'MozillaSansBETA-ExtraLight', 200, normal);
@include font-face('Mozilla Sans', 'MozillaSansBETA-Light', 300, normal);
@include font-face('Mozilla Sans', 'MozillaSansBETA-Regular', 400, normal);
@include font-face('Mozilla Sans', 'MozillaSansBETA-SemiBold', 600, normal);
@include font-face('Mozilla Sans', 'MozillaSansBETA-Bold', 700, normal);
// Mozilla Semi Slab
@include font-face('Mozilla Semi Slab', 'MozillaSemiSlabBETA-ExtraLight', 200, normal);
@include font-face('Mozilla Semi Slab', 'MozillaSemiSlabBETA-Light', 300, normal);
@include font-face('Mozilla Semi Slab', 'MozillaSemiSlabBETA-Regular', 400, normal);
@include font-face('Mozilla Semi Slab', 'MozillaSemiSlabBETA-SemiBold', 600, normal);
@include font-face('Mozilla Semi Slab', 'MozillaSemiSlabBETA-Bold', 700, normal);
// Mozilla Semi Slab Condensed
@include font-face('Mozilla Semi Slab Condensed', 'MozillaSemiSlabCndBETA-ExtraLight', 200, normal);
@include font-face('Mozilla Semi Slab Condensed', 'MozillaSemiSlabCndBETA-Light', 300, normal);
@include font-face('Mozilla Semi Slab Condensed', 'MozillaSemiSlabCndBETA-Regular', 400, normal);
@include font-face('Mozilla Semi Slab Condensed', 'MozillaSemiSlabCndBETA-SemiBold', 600, normal);
@include font-face('Mozilla Semi Slab Condensed', 'MozillaSemiSlabCndBETA-Bold', 700, normal);
// Mozilla Semi Slab Extended
@include font-face('Mozilla Semi Slab Extended', 'MozillaSemiSlabExtBETA-ExtraLight', 200, normal);
@include font-face('Mozilla Semi Slab Extended', 'MozillaSemiSlabExtBETA-Light', 300, normal);
@include font-face('Mozilla Semi Slab Extended', 'MozillaSemiSlabExtBETA-Regular', 400, normal);
@include font-face('Mozilla Semi Slab Extended', 'MozillaSemiSlabExtBETA-SemiBold', 600, normal);
@include font-face('Mozilla Semi Slab Extended', 'MozillaSemiSlabExtBETA-Bold', 700, normal);

body {
  @apply bg-white text-black;
  @apply font-sans font-normal text-base antialiased;
}

@layer components {
  .type-slab-2xl {
    @apply text-8xl font-slab-condensed font-semibold leading-none;
  }

  .type-slab-xl {
    @apply text-6xl font-slab-condensed font-semibold leading-none;
  }

  .type-slab-lg {
    @apply text-2xl font-slab-condensed font-semibold leading-tight;
  }

  .type-sans-xl {
    @apply text-6xl font-sans font-light leading-tighter;
  }

  .type-sans-lg {
    @apply text-4xl font-sans font-light leading-tighter;
  }

  .type-code {
    @apply bg-black text-white py-0.5 px-1 decoration-clone text-sm;
  }

  .type-caption {
    @apply uppercase opacity-50 text-sm leading-tight;
  }
}

@layer utilities {
  .gutenberg {
    @apply flex flex-col items-center gap-6;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    li,
    pre {
      // Inline images
      img {
        @apply inline-flex translate-y-[-5%];
        @apply h-[1em] w-auto !important;
      }

      // Inline code
      code {
        @apply type-code;
      }

      // Inline links
      a {
        @apply underline;
      }
    }

    // Paragraphs
    > p {
      @apply max-w-content px-site;

      &:first-child:is(.lede *) {
        @apply max-w-content-lg type-slab-lg mb-2 md:mb-6;
      }
    }

    // Code block
    pre {
      @apply max-w-content-lg w-full px-site;

      code {
        @apply block bg-black px-4 py-3 leading-loose;
      }
    }

    // Blockquotes
    blockquote {
      @apply max-w-content-2xl px-site flex flex-col gap-3;

      p {
        @apply type-slab-xl md:indent-20;
      }

      cite {
        @apply type-caption not-italic;
      }
    }

    // Images
    figure.wp-block-image,
    figure.wp-block-video,
    figure.wp-block-embed {
      @apply w-full max-w-content-lg px-site flex flex-col gap-3;

      img,
      video,
      .wp-block-embed__wrapper iframe {
        @apply w-full h-auto;
      }

      figcaption {
        @apply type-caption;
      }

      &.alignwide {
        @apply max-w-content-2xl;
      }

      &.alignfull {
        @apply max-w-none px-0;

        figcaption {
          @apply px-site;
        }
      }
    }

    // Embeds
    figure.wp-block-embed {
      .wp-block-embed__wrapper {
        @apply flex w-full justify-center;
      }

      &.wp-has-aspect-ratio {
        &.wp-embed-aspect-16-9 .wp-block-embed__wrapper iframe {
          @apply aspect-video;
        }

        &.wp-embed-aspect-4-3 .wp-block-embed__wrapper iframe {
          @apply aspect-[4/3];
        }
      }
    }
  }
}
